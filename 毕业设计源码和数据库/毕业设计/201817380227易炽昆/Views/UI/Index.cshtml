
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/UITemplate.cshtml";
}
@using _201817380227易炽昆.Models
@{
    List<LeaseHouse> lease = ViewBag.lease;
    List<SellHouse> sell = ViewBag.sell;
    HomeDBEntities db = new HomeDBEntities();
    int i = 1;
    int j = 1;
}
<script src="~/Scripts/jquery.min.js"></script>
<style>
    .prosum_box {
        width: 1188px;
        border: solid 1px #ddd;
        background: #ebebeb;
        overflow: hidden;
        margin: 0 auto 20px;
        border-radius: 10px;
    }

        .prosum_box .prosum_left {
            margin: 20px;
            overflow: hidden;
            width: 684px;
            float: left;
        }

            .prosum_box .prosum_left .big_img {
                width: 570px;
                height: 340px;
            }

            .prosum_box .prosum_left .little_img img {
                width: 110px;
                height: 70px;
                opacity: 0.6;
            }

                .prosum_box .prosum_left .little_img img:hover {
                    opacity: 1.0;
                }

            .prosum_box .prosum_left .cur_img img {
                opacity: 1.0;
            }

            .prosum_box .prosum_left .up_img,
            .prosum_box .prosum_left .down_img {
                width: 110px;
                height: 20px;
                background: #333;
            }

            .prosum_box .prosum_left .up_img {
                background: url("../images/arrows.jpg") no-repeat;
                background-position: 0px -20px;
            }

            .prosum_box .prosum_left .up_img_disable {
                background-position: 0px 0px;
            }

            .prosum_box .prosum_left .down_img {
                background: url("../images/arrows.jpg") no-repeat;
                background-position: 0px -60px;
            }

            .prosum_box .prosum_left .down_img_disable {
                background-position: 0px -40px;
            }

            .prosum_box .prosum_left dt {
                float: left;
                margin-right: 4px;
            }

            .prosum_box .prosum_left dd a {
                display: block;
                margin-bottom: 4px;
            }

        .prosum_box .prosum_right {
            float: left;
            width: 462px;
            margin: 20px 0px 20px 0px;
        }

            .prosum_box .prosum_right .pros_title {
                font-size: 18px;
                line-height: 28px;
                font-weight: bold;
                margin-bottom: 5px;
            }

    #BgImg {
        background-image: url(/Image/pic_other.jpg);
    }

    .a1 {
        color: black;
    }

        .a1:hover {
            color: #ffd800;
        }

    .a2 {
        color: black;
    }

        .a2:hover {
            text-decoration: none;
            color: darkorange;
        }

    .a3 {
        color: black;
    }

        .a3:hover {
            text-decoration: none;
            color: white;
            background-color: darkorange;
            transition-duration: 0.5s;
        }

    .divHover:hover {
        position: relative;
        top: -2px;
        box-shadow: 0px 0px 5px purple;
        transition-duration: 0.5s;
    }
</style>







<div class="prosum_box">
    <dl id="routeImg" class="prosum_left">
        <dt>
            <img alt="" class="big_img" src="https://localhost:44388/Image/UIImage/1.jpg">
        </dt>
        <dd>
            <a class="up_img up_img_disable"></a>
            <a title="" class="little_img" data-bigpic="https://localhost:44388/Image/UIImage/1.jpg">
                <img src="https://localhost:44388/Image/UIImage/1.jpg">
            </a>
            <a title="" class="little_img cur_img" data-bigpic="https://localhost:44388/Image/UIImage/2.jpg">
                <img src="https://localhost:44388/Image/UIImage/2.jpg">
            </a>
            <a title="" class="little_img" data-bigpic="https://localhost:44388/Image/UIImage/3.jpg">
                <img src="https://localhost:44388/Image/UIImage/3.jpg">
            </a>
            <a title="" class="little_img" data-bigpic="https://localhost:44388/Image/UIImage/4.jpg">
                <img src="https://localhost:44388/Image/UIImage/4.jpg">
            </a>
            <a title="" class="little_img" data-bigpic="https://localhost:44388/Image/UIImage/1.jpg" style="display:none;">
                <img src="https://localhost:44388/Image/UIImage/1.jpg">
            </a>

            <a class="down_img down_img_disable" style="margin-bottom: 0;"></a>
        </dd>
    </dl>
    <div class="prosum_right">
        @*<div id="msg1" class="msg">
                <div style="font-size: 20px;font-weight: bolder;height: 80px;line-height: 80px;text-align: center;">
                    <a class="a1" href="#" style="text-decoration:none;"></a>
                </div>
                <div style="font-size:20px;font-weight:bolder;height:80px;line-height:80px;text-align:center;">
                    <a class="a1" href="#" style="text-decoration:none;"></a>
                </div>
                <div style="font-size:20px;font-weight:bolder;height:80px;line-height:80px;text-align:center;">
                    <a class="a1" href="#" style="text-decoration:none;"></a>
                </div>
                <div style="font-size:20px;font-weight:bolder;height:80px;line-height:80px;text-align:center;">
                    <a class="a1" href="#" style="text-decoration:none;"></a>
                </div>
            </div>*@
        <div id="msg2" class="msg">
            <p id="title" class="pros_title">Security房屋中介</p>
            <p id="introduce" class="hot">租房，买房</p>
            <div id="pros_other" class="pros_other">
                <p>经营商家 ：XXXXX</p>
                <p>咨询电话 : XXX-XXX-XXXX</p>
                <p>地址 ： XXXXXXXXX</p>
            </div>
            <div class="pros_price">
                <p class="price" id="price"></p>
                <p class="collect">
                    <a class="btn" id="favorite" onclick="addFavorite();">
                        <i class="glyphicon glyphicon-heart-empty"></i>点击收藏
                    </a>

                    <span id="favoriteCount">已收藏100次</span>
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        //自动播放
        getImg();
        var timer = setInterval("auto_play()", 3000);
    });

    function getImg() {
        //焦点图效果
        //点击图片切换图片
        $('.little_img').on('mousemove', function () {
            $('.little_img').removeClass('cur_img');
            var big_pic = $(this).data('bigpic');
            $('.big_img').attr('src', big_pic);
            $(this).addClass('cur_img');
        });
        //上下切换
        var picindex = 0;
        var nextindex = 4;
        $('.down_img').on('click', function () {
            var num = $('.little_img').length;
            if ((nextindex + 1) <= num) {
                $('.little_img:eq(' + picindex + ')').hide();
                $('.little_img:eq(' + nextindex + ')').show();
                picindex = picindex + 1;
                nextindex = nextindex + 1;
            }
        });
        $('.up_img').on('click', function () {
            var num = $('.little_img').length;
            if (picindex > 0) {
                $('.little_img:eq(' + (nextindex - 1) + ')').hide();
                $('.little_img:eq(' + (picindex - 1) + ')').show();
                picindex = picindex - 1;
                nextindex = nextindex - 1;
            }
        });
        //自动播放
        // var timer = setInterval("auto_play()", 5000);
    }

    //自动轮播方法
    function auto_play() {
        var cur_index = $('.prosum_left dd').find('a.cur_img').index();
        cur_index = cur_index - 1;
        var num = $('.little_img').length;
        var max_index = 3;
        if ((num - 1) < 3) {
            max_index = num - 1;
        }
        if (cur_index < max_index) {
            var next_index = cur_index + 1;
            var big_pic = $('.little_img:eq(' + next_index + ')').data('bigpic');
            $('.little_img').removeClass('cur_img');
            $('.little_img:eq(' + next_index + ')').addClass('cur_img');
            $('.big_img').attr('src', big_pic);
        } else {
            var big_pic = $('.little_img:eq(0)').data('bigpic');
            $('.little_img').removeClass('cur_img');
            $('.little_img:eq(0)').addClass('cur_img');
            $('.big_img').attr('src', big_pic);
        }
    }
</script>

@*<br />
    <div>
        <form action="/" method="post">
            <div class="row">
                <input type="text" name="Position" class="form-control" style="width:300px;" placeholder="请输入房屋地址" />
                <input type="submit"  value="搜索" class="btn btn-primary" />
            </div>
        </form>
    </div>*@

<div id="BgImg" style="width:100%;height:300px;color:white;text-align:center;line-height:300px;font-size:70px;font-weight:bolder;border-radius:20px;">
    长沙
</div>
<br />
<br />
<br />

<div class="grid row" style="height:60px;line-height:60px">
    <div class="grid-cell-6" style="font-size:28px;font-weight:bolder;margin-left:1%;">租房</div>
    <div style="margin-right:1%;">
        <a href="#" class="a3" style="display:block;width:80px;height:40px;line-height:40px;text-align:center;border:1px solid #dddcdc;border-radius:10px">查看更多</a>
    </div>
</div>
<div id="Lease" style="height:400px;border:1px solid #bababa;border-radius:10px;text-align:center">
    <div style="width:90%;margin-left:5%;margin-top:4%;">
        <div class="grid row">
            @foreach (var item in lease)
            {
                Picture pic = db.Picture.Where(p => p.LeaseID == item.LeaseID).FirstOrDefault();
                string str = "../../Image/" + pic.PictureName;
                <div class="grid-cell-2">
                    <div style="width:300px;height:300px;border:1px solid purple;border-radius:10px;margin:0px auto;" class="divHover">
                        <a href="#" class="a2">
                            <dl style="">
                                <dt><img src="@str" width="298" height="180" style="border-radius:10px 10px 0px 0px;" /></dt>
                                <dd></dd>
                                <dd style="text-align:center;font-weight:bolder;font-size:20px;">@item.Position</dd>
                                <dd style="text-align:center;">@item.Area ㎡</dd>
                                <dd style="margin-right:20px">@string.Format("{0:C2}", item.Price)  /月</dd>
                            </dl>
                        </a>
                    </div>
                </div>
                i++;
                if (i > 3)
                {
                    break;
                }
            }
        </div>
    </div>
</div>

<br />
<br />
<br />


<div class="grid row" style="height:60px;line-height:60px">
    <div class="grid-cell-6" style="font-size:28px;font-weight:bolder;margin-left:1%;">买房</div>
    <div style="margin-right:1%;">
        <a href="#" class="a3" style="display:block;width:80px;height:40px;line-height:40px;text-align:center;border:1px solid #dddcdc;border-radius:10px">查看更多</a>
    </div>
</div>
<div id="Lease" style="height:400px;border:1px solid #bababa;border-radius:10px;text-align:center">
    <div style="width:90%;margin-left:5%;margin-top:4%;">
        <div class="grid row">
            @foreach (var item in sell)
            {
                Picture pic = db.Picture.Where(p => p.SellID == item.SellID).FirstOrDefault();
                string str = "../../Image/" + pic.PictureName;
                <div class="grid-cell-2">
                    <div style="width:300px;height:300px;border:1px solid purple;border-radius:10px;margin:0px auto;" class="divHover">
                        <a href="#" class="a2">
                            <dl style="">
                                <dt><img src="@str" width="298" height="180" style="border-radius:10px 10px 0px 0px;" /></dt>
                                <dd></dd>
                                <dd style="text-align:center;font-weight:bolder;font-size:20px;">@item.Position</dd>
                                <dd style="text-align:center;">@item.Area ㎡</dd>
                                <dd style="margin-right:20px">@string.Format("{0:C2}", item.SellPrice)</dd>
                            </dl>
                        </a>
                    </div>
                </div>
                j++;
                if (j > 3)
                {
                    break;
                }
            }
        </div>
    </div>
</div>





