
@{
    ViewBag.Title = "SingleEdit";
    Layout = "~/Views/BackstageView.cshtml";
}

@using _201817380227易炽昆.Models
@{
    Lease lease = ViewBag.lease;
    //开始时间
    string year = lease.StartTime.Year.ToString();
    string month = lease.StartTime.Month.ToString();
    string day = lease.StartTime.Day.ToString();
    if (month.Length==1)
    {
        month = "0" + month;
    }
    if (day.Length==1)
    {
        day = "0" + day;
    }
    string StartTime = year + "-" + month + "-" + day;
    //结束时间
    string year1 = lease.EndTime.Year.ToString();
    string month1 = lease.EndTime.Month.ToString();
    string day1 = lease.EndTime.Day.ToString();
    if (month1.Length==1)
    {
        month1 = "0" + month1;
    }
    if (day1.Length==1)
    {
        day1 = "0" + day1;
    }
    string EndTime = year1 + "-" + month1 + "-" + day1;
}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/BackStage/Index">首页</a></li>
        <li class="breadcrumb-item"><a href="#">出租房信息</a></li>
        <li class="breadcrumb-item"><a href="/LeaseHouse/SingleLease">单人租房信息</a></li>
        <li class="breadcrumb-item active" aria-current="page">修改信息</li>
    </ol>
</nav>
<div style="width:80%;margin-left:10%;margin-top:6%;">
    <div class="form-group row">
        <label for="Position" class="col-sm-2 col-form-label">位置：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" readonly value="@lease.LeaseHouse.Position" id="Position" name="Position">
        </div>
    </div>
    <div class="form-group row">
        <label for="Area" class="col-sm-2 col-form-label">面积：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" readonly value="@lease.LeaseHouse.Area" id="Area" name="Area">
        </div>
    </div>
    <div class="form-group row">
        <label for="Price" class="col-sm-2 col-form-label">价格（月）：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" readonly value="@lease.LeaseHouse.Price" id="Price" name="Price">
        </div>
    </div>
    <div class="form-group row">
        <label for="HouseType" class="col-sm-2 col-form-label">类型：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" readonly value="@lease.LeaseHouse.HouseType" id="HouseType" name="HouseType">
        </div>
    </div>
    <div class="form-group row">
        <label for="AdminName" class="col-sm-2 col-form-label">操作员：</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" readonly value="@lease.Admin.AdminName" name="AdminName">
        </div>
    </div>
    <form action="/LeaseHouse/SingleEdit" method="post" id="SingleEdit">
        <div class="form-group row">
            <label for="StartTime" class="col-sm-2 col-form-label">入住时间：</label>
            <div class="col-sm-10">
                <input type="date" class="form-control" readonly value="@StartTime" id="StartTime" name="StartTime">
            </div>
        </div>
        <div class="form-group row">
            <label for="EndTime" class="col-sm-2 col-form-label">到期时间：</label>
            <div class="col-sm-10">
                <input type="date" class="form-control" value="@EndTime" id="EndTime" name="EndTime">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <input type="hidden" name="ID" value="@lease.ID" />
                <input type="hidden" name="Time" value="@lease.Time" />
                <input type="hidden" name="UserID" value="@lease.UserID" />
                <input type="hidden" name="LeaseID" value="@lease.LeaseID" />
                <input type="hidden" name="AdminID" value="@lease.AdminID" />
                <input type="hidden" name="RentingState" value="@lease.RentingState" />
                <input type="submit" class="btn btn-info" style="width:200px;" value="修改">
                <a href="javascript:history.back(-1)" class="btn btn-info" style="width:200px;">返回</a>
            </div>
        </div>
    </form>
</div>


@*<script>
    $("#SingleEdit").validate({
        rules: {
            EndTime: { required: true, checkTime: true }
        },
        messages: {
            Area: { required: "面积不能为空", checkArea: "面积不能超过3位数" }
        }
    })

    $.validator.addMethod("checkTime", function (value, e) {
        //var reg = /^[0-9]{2,3}$/;
        //return reg.test(value);
        var startTime = $("#StartTime").val();
        var EndTime = $("#EndTIme").val();
        if (EndTime < startTime) {
            return EndTime.test(value);
        }
    })
</script>*@
